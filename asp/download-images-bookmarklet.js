javascript:(function(){var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js",document.head.appendChild(e),e.onload=function(){var t=document.querySelectorAll("#album > div.col-12.col-md.border > div.mt-2 > div a[href^='/photo/']"),n=[],r=[];t.forEach(function(e){var t=e.getAttribute("href");r.push(new Promise(function(r,o){setTimeout(function(){fetch(t,{headers:{"Referer":document.location.href}}).then(function(e){return e.text()}).then(function(t){var i=(new DOMParser).parseFromString(t,"text/html").querySelector("#image img");i?(n.push(i.getAttribute("src").replace("http:","https:")),console.log("Received image: "+i.getAttribute("src").replace("http:","https:")),r()):o(new Error("Image not found"))})},500)}))}),Promise.all(r).then(function(){var e=new JSZip,t=e.folder("images"),r=[];n.forEach(function(n){var o=n.substring(n.lastIndexOf("/")+1);r.push(fetch(n,{headers:{"Referer":document.location.href}}).then(function(e){return e.blob()}).then(function(e){t.file(o,e)}))}),Promise.all(r).then(function(){e.generateAsync({type:"blob"}).then(function(t){var n=document.createElement("a");n.download="images.zip",n.href=window.URL.createObjectURL(t),n.click()})})})}})();
